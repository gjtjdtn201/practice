-- 코드를 입력하세요
SELECT C1.NAME AS NAME_X, C2.NAME AS NAME_Y, COUNT(*) AS '장바구니 수'
FROM (SELECT DISTINCT NAME, CART_ID FROM CART_PRODUCTS) AS C1
INNER JOIN (SELECT DISTINCT NAME, CART_ID FROM CART_PRODUCTS) AS C2
ON C1.CART_ID = C2.CART_ID
WHERE C1.NAME != C2.NAME
GROUP BY NAME_X, NAME_Y
ORDER BY NAME_X, NAME_Y